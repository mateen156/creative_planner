{"version":3,"file":"ngx-loading-bar-http-client.js","sources":["ng:/@ngx-loading-bar/http-client/loading-bar.interceptor.ts","ng:/@ngx-loading-bar/http-client/http.module.ts","ng:/@ngx-loading-bar/http-client/ngx-loading-bar-http-client.ts"],"names":[],"mappings":";;;;;;;;;IAQE,+BAAoB,MAAyB;AAAI,QAA7B,WAAM,GAAN,MAAM,CAAmB;AAAC,KAAG;AACnD,IACE,yCAAS,GAAT,UAAU,GAAqB,EAAE,IAAiB;AAAI;AACzB,QAC3B,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE;AAC7C,YAAM,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC,CAAC;AACzF,SAAK;AACL,QACI,IAAI,OAAO,GAAG,KAAK,CAAC;AACxB,QAAI,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC3C,QAAI,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAC1B,GAAG,CAAC;AACJ,YAAE,IAAI,CAAC,OAAO,EAAE;AACtB,gBAAU,GAAG,CAAC,KAAK,EAAE,CAAC;AACtB,gBAAU,OAAO,GAAG,IAAI,CAAC;AACzB,aAAS;AACT,SAAO,CAAC,EACF,QAAQ,CAAC,cAAM,OAAA,OAAO,IAAI,GAAG,CAAC,QAAQ,EAAE,GAAA,CAAC,CAC1C,CAAC;AACN,KAAG;AACF;AACgE,gBArBnC,iBAAiB;AAAG;AAE3C,IAHM,qBAAqB,wBADjC,UAAU,EAAE,rBACL,kCACsB,iBAAiB;AAAG,OADrC,qBAAqB,CAqBjC;;;;;kFACD;AAAC,IADD,4BAAC;AACA,CAtBD;AAAK;AAAC;AACF,ICQJ;AAAwC,KAAE;IAA7B,0BAA0B,wBAXtC,QAAQ,CAAC,cACR,OAAO,EAAE,CAAC;MAAgB,EAAE,gBAAgB,CAAC,cAC7C,OAAO,EAAE,CAAC,gBAAgB,EAAE,gBAAgB,CAAC,cAC7C,SAAS,EAAE,kBACT,sBACE,OAAO,EAAE,iBAAiB;;KAC1B,QAAQ,EAAE,qBAAqB;kBAC/B,KAAK,EAAE,IAAI;GACZ,eACF;KACF,CAAC;GACW,0BAA0B,CAAG;;;;;;;;;;;;;;;gDAC1C;AAAC,IADwC,iCAAC;AACzC,CADD;AAAK;AChBL;AACA;AACA;AACA;AACA;AAEqC","sourcesContent":["import { LoadingBarService } from '@ngx-loading-bar/core';\nimport { Injectable } from '@angular/core';\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { finalize, tap } from 'rxjs/operators';\n\n@Injectable()\nexport class LoadingBarInterceptor implements HttpInterceptor {\n  constructor(private loader: LoadingBarService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    // https://github.com/angular/angular/issues/18155\n    if (req.headers.has('ignoreLoadingBar')) {\n      return next.handle(req.clone({ headers: req.headers.delete('ignoreLoadingBar') }));\n    }\n\n    let started = false;\n    const ref = this.loader.useRef('http');\n    return next.handle(req).pipe(\n      tap(() => {\n        if (!started) {\n          ref.start();\n          started = true;\n        }\n      }),\n      finalize(() => started && ref.complete()),\n    );\n  }\n}\n","import { LoadingBarModule } from '@ngx-loading-bar/core';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { LoadingBarInterceptor } from './loading-bar.interceptor';\n\n@NgModule({\n  imports: [HttpClientModule, LoadingBarModule],\n  exports: [HttpClientModule, LoadingBarModule],\n  providers: [\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: LoadingBarInterceptor,\n      multi: true,\n    },\n  ],\n})\nexport class LoadingBarHttpClientModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {LoadingBarInterceptor as Éµa} from './loading-bar.interceptor';"]}