{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{viUt:function(e,t,c){\"use strict\";c.r(t),c.d(t,\"ActionToAssignModule\",(function(){return _}));var i=c(\"ofXK\"),n=c(\"3Pt+\"),s=c(\"tyNb\"),o=c(\"UuEW\"),a=c(\"XN+D\"),l=c(\"fXoL\"),r=c(\"ps0H\"),d=c(\"tHiJ\"),p=c(\"FKr1\"),b=c(\"d3UM\"),m=c(\"Egam\"),h=c(\"iadO\"),g=c(\"kmnG\");function u(e,t){if(1&e&&(l.cc(0,\"mat-option\",22),l.Wc(1),l.bc()),2&e){const e=t.$implicit;l.yc(\"value\",e.Exec_BlockNo),l.Jb(1),l.Yc(\" \",e.Exec_BlockName,\" \")}}const y=[{path:\"\",component:(()=>{class e{constructor(e,t,c){this.notifyService=e,this.ProjectTypeService=t,this.dateAdapter=c,this._StartDate=null,this._EndDate=null,this._SelectedEmpNo=\"\",this.disablePreviousDate=new Date,this._taskName=\"\",this.dropdownSettings_Employee={},this._remarks=\"\",this.selectedEmployee=\"\",this._ObjAssigntaskDTO=new o.a,this._ObjCompletedProj=new a.a}ngOnInit(){this.CurrentUser_ID=localStorage.getItem(\"EmpNo\"),this.getProjectTypeList(),this.GetAssignFormEmployeeDropdownList()}getProjectTypeList(){this._ObjCompletedProj.PageNumber=1,this._ObjCompletedProj.Emp_No=this.CurrentUser_ID,this._ObjCompletedProj.Mode=\"AssignedTask\",this.ProjectTypeService._GetCompletedProjects(this._ObjCompletedProj).subscribe(e=>{this.ProjectTypelist=JSON.parse(e[0].ProjectTypeList)})}EmployeeOnSelect(e){this._SelectedEmpNo=e.Emp_No,this.selectedEmployee=this._SelectedEmpNo}EmployeeOnDeselect(e){this._SelectedEmpNo=\"\",this.selectedEmployee=this._SelectedEmpNo}onFileChangeATP(e){this._inputAttachments=e.target.files[0].name}OnAssignTask_Submit(){this._ObjAssigntaskDTO.TaskDescription=this._description,this._ObjAssigntaskDTO.StartDate=this._StartDate,this._ObjAssigntaskDTO.EndDate=this._EndDate;var e=this._StartDate.getTime()-this._EndDate.getTime();this._ObjAssigntaskDTO.ProjectDays=-e/864e5,this._ObjAssigntaskDTO.TypeOfTask=\"IFRT\",this._ObjAssigntaskDTO.AssignTo=this.selectedEmployee,this._ObjAssigntaskDTO.Assigned_By=this.CurrentUser_ID,this._ObjAssigntaskDTO.AssignId=this.task_id,this._ObjAssigntaskDTO.ProjectType=this.selectedProjectType,this._ObjAssigntaskDTO.Remarks=this._remarks,this._ObjAssigntaskDTO.Reference=this._inputAttachments,this.ProjectTypeService._InsertAssignTaskServie(this._ObjAssigntaskDTO).subscribe(e=>{this.notifyService.showSuccess(\"Task sent to assign projects\",e.Message),this.clearFeilds()})}closeInfo(){document.getElementById(\"mysideInfobar_AssignTask\").style.width=\"0px\",document.getElementById(\"mysideInfobar_NewSubtask\").style.width=\"0px\",this.clearFeilds()}clearFeilds(){this._description=\"\",this._StartDate=null,this._EndDate=null,this._SelectedEmpNo=\"\",this.selectedProjectType=null,this.selectedProjectCode=\"\",this.SelectedEmplList=[],this.selectedProjectCodelist=[]}GetAssignFormEmployeeDropdownList(){this._ObjCompletedProj.PageNumber=1,this._ObjCompletedProj.Emp_No=this.CurrentUser_ID,this._ObjCompletedProj.Mode=\"AssignedTask\",this.ProjectTypeService._GetCompletedProjects(this._ObjCompletedProj).subscribe(e=>{this.EmployeeList=JSON.parse(e[0].EmployeeList),this.dropdownSettings_Employee={singleSelection:!0,idField:\"Emp_No\",textField:\"DisplayName\",itemsShowLimit:3,allowSearchFilter:!0,closeDropDownOnSelection:!0}})}}return e.\\u0275fac=function(t){return new(t||e)(l.Wb(r.a),l.Wb(d.a),l.Wb(p.c))},e.\\u0275cmp=l.Qb({type:e,selectors:[[\"app-action-to-assign\"]],decls:73,vars:27,consts:[[\"id\",\"mysideInfobar_AssignTask\",1,\"sideInfobar\",\"animate-right\",\"offcanvas\"],[1,\"p-4\"],[\"kt-hidden-height\",\"40\",1,\"offcanvas-header\",\"d-flex\",\"align-items-center\",\"justify-content-between\",\"pb-5\"],[1,\"font-weight-bold\",\"m-0\"],[\"href\",\"javascript:void(0)\",1,\"btn\",\"btn-xs\",\"btn-icon\",\"btn-hover-primary\",3,\"click\"],[1,\"fa\",\"fa-times\"],[1,\"form-group\"],[\"placeholder\",\"Select Project Type\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[3,\"value\",4,\"ngFor\",\"ngForOf\"],[\"type\",\"text\",\"placeholder\",\"Task Name\",\"aria-describedby\",\"basic-addon1\",\"disabled\",\"\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[\"aria-describedby\",\"basic-addon1\",1,\"form-control\",2,\"height\",\"139px\",3,\"ngModel\",\"ngModelChange\"],[1,\"text-danger\"],[3,\"placeholder\",\"settings\",\"data\",\"ngModel\",\"ngModelChange\",\"onSelect\",\"onDeSelect\"],[1,\"input-group\"],[\"matInput\",\"\",\"placeholder\",\"Start Date\",1,\"form-control\",3,\"matDatepicker\",\"min\",\"ngModel\",\"click\",\"ngModelChange\"],[1,\"input-group-text\",\"p-0\"],[\"matSuffix\",\"\",3,\"for\"],[\"picker1\",\"\"],[\"matInput\",\"\",\"placeholder\",\"End Date\",1,\"form-control\",3,\"matDatepicker\",\"min\",\"ngModel\",\"click\",\"ngModelChange\"],[\"picker2\",\"\"],[1,\"form-group\",3,\"hidden\"],[\"name\",\"Select Type\",\"placeholder\",\"Submission Type\",1,\"form-control\",3,\"ngModel\",\"ngModelChange\"],[3,\"value\"],[\"for\",\"exampleFormControlFile1\"],[\"aria-label\",\"With textarea\",1,\"form-control\",2,\"height\",\"111px\",3,\"ngModel\",\"ngModelChange\"],[1,\"custom-file\",\"pl-1\"],[\"type\",\"file\",\"id\",\"uploadFile\",\"accept\",\"application/pdf\",1,\"form-control-file\",3,\"change\"],[1,\"form-group\",\"mb-1\"],[\"type\",\"submit\",1,\"btn\",\"btn-primary\",2,\"width\",\"150px\",3,\"disabled\",\"click\"]],template:function(e,t){if(1&e){const e=l.dc();l.cc(0,\"div\",0),l.cc(1,\"div\",1),l.cc(2,\"div\",2),l.cc(3,\"h3\",3),l.Wc(4,\"Assign Task/Project\"),l.bc(),l.cc(5,\"a\",4),l.nc(\"click\",(function(){return t.closeInfo()})),l.Xb(6,\"i\",5),l.bc(),l.bc(),l.cc(7,\"div\",6),l.cc(8,\"label\"),l.Wc(9,\"Project Type\"),l.bc(),l.cc(10,\"mat-select\",7),l.nc(\"ngModelChange\",(function(e){return t.selectedProjectType=e})),l.Uc(11,u,2,2,\"mat-option\",8),l.bc(),l.bc(),l.cc(12,\"div\",6),l.cc(13,\"label\"),l.Wc(14,\" Task/Project Name\"),l.bc(),l.cc(15,\"input\",9),l.nc(\"ngModelChange\",(function(e){return t._taskName=e})),l.bc(),l.bc(),l.cc(16,\"div\",6),l.cc(17,\"label\"),l.Wc(18,\"Description\"),l.bc(),l.cc(19,\"textarea\",10),l.nc(\"ngModelChange\",(function(e){return t._description=e})),l.bc(),l.bc(),l.cc(20,\"div\",6),l.cc(21,\"label\"),l.Wc(22,\"Assign To : \"),l.Xb(23,\"strong\"),l.cc(24,\"span\",11),l.Wc(25,\"*\"),l.bc(),l.bc(),l.cc(26,\"ng-multiselect-dropdown\",12),l.nc(\"ngModelChange\",(function(e){return t.SelectedEmplList=e}))(\"onSelect\",(function(e){return t.EmployeeOnSelect(e)}))(\"onDeSelect\",(function(e){return t.EmployeeOnDeselect(e)})),l.bc(),l.bc(),l.cc(27,\"div\",6),l.cc(28,\"label\"),l.Wc(29,\"Start Date\"),l.bc(),l.cc(30,\"div\",13),l.cc(31,\"input\",14),l.nc(\"click\",(function(){return l.Lc(e),l.Ic(35).open()}))(\"ngModelChange\",(function(e){return t._StartDate=e})),l.bc(),l.cc(32,\"div\",15),l.Xb(33,\"mat-datepicker-toggle\",16),l.Xb(34,\"mat-datepicker\",null,17),l.bc(),l.bc(),l.bc(),l.cc(36,\"div\",6),l.cc(37,\"label\"),l.Wc(38,\"End Date\"),l.bc(),l.cc(39,\"div\",13),l.cc(40,\"input\",18),l.nc(\"click\",(function(){return l.Lc(e),l.Ic(44).open()}))(\"ngModelChange\",(function(e){return t._EndDate=e})),l.bc(),l.cc(41,\"div\",15),l.Xb(42,\"mat-datepicker-toggle\",16),l.Xb(43,\"mat-datepicker\",null,19),l.bc(),l.bc(),l.bc(),l.cc(45,\"div\",20),l.cc(46,\"mat-select\",21),l.nc(\"ngModelChange\",(function(e){return t.SelectedSubmissionType=e})),l.cc(47,\"mat-option\",22),l.Wc(48,\"Select Type\"),l.bc(),l.cc(49,\"mat-option\",22),l.Wc(50,\"Daily\"),l.bc(),l.cc(51,\"mat-option\",22),l.Wc(52,\"Weekly\"),l.bc(),l.cc(53,\"mat-option\",22),l.Wc(54,\"Monthly\"),l.bc(),l.cc(55,\"mat-option\",22),l.Wc(56,\"Quarterly\"),l.bc(),l.cc(57,\"mat-option\",22),l.Wc(58,\"HalfYearly\"),l.bc(),l.cc(59,\"mat-option\",22),l.Wc(60,\"Annually\"),l.bc(),l.bc(),l.bc(),l.cc(61,\"div\",6),l.cc(62,\"label\",23),l.Wc(63,\"Remarks\"),l.bc(),l.cc(64,\"textarea\",24),l.nc(\"ngModelChange\",(function(e){return t._remarks=e})),l.bc(),l.bc(),l.cc(65,\"div\",6),l.cc(66,\"div\",25),l.cc(67,\"label\",23),l.Wc(68,\"Reference\"),l.bc(),l.cc(69,\"input\",26),l.nc(\"change\",(function(e){return t.onFileChangeATP(e)})),l.bc(),l.bc(),l.bc(),l.cc(70,\"div\",27),l.cc(71,\"button\",28),l.nc(\"click\",(function(){return t.OnAssignTask_Submit()})),l.Wc(72,\"Submit \"),l.bc(),l.bc(),l.bc(),l.bc()}if(2&e){const e=l.Ic(35),c=l.Ic(44);l.Jb(10),l.yc(\"ngModel\",t.selectedProjectType),l.Jb(1),l.yc(\"ngForOf\",t.ProjectTypelist),l.Jb(4),l.yc(\"ngModel\",t._taskName),l.Jb(4),l.yc(\"ngModel\",t._description),l.Jb(7),l.yc(\"placeholder\",\"Select Employee\")(\"settings\",t.dropdownSettings_Employee)(\"data\",t.EmployeeList)(\"ngModel\",t.SelectedEmplList),l.Jb(5),l.yc(\"matDatepicker\",e)(\"min\",t.disablePreviousDate)(\"ngModel\",t._StartDate),l.Jb(2),l.yc(\"for\",e),l.Jb(7),l.yc(\"matDatepicker\",c)(\"min\",t.disablePreviousDate)(\"ngModel\",t._EndDate),l.Jb(2),l.yc(\"for\",c),l.Jb(3),l.yc(\"hidden\",\"003\"!=t.selectedProjectType),l.Jb(1),l.yc(\"ngModel\",t.SelectedSubmissionType),l.Jb(1),l.yc(\"value\",0),l.Jb(2),l.yc(\"value\",1),l.Jb(2),l.yc(\"value\",2),l.Jb(2),l.yc(\"value\",4),l.Jb(2),l.yc(\"value\",8),l.Jb(2),l.yc(\"value\",10),l.Jb(2),l.yc(\"value\",16),l.Jb(5),l.yc(\"ngModel\",t._remarks),l.Jb(7),l.yc(\"disabled\",\"\"==t._taskName||\"\"==t.selectedEmployee)}},directives:[b.a,n.n,n.q,i.n,n.d,m.a,h.b,h.d,g.e,h.a,p.n],styles:[\"\"]}),e})()}];let f=(()=>{class e{}return e.\\u0275mod=l.Ub({type:e}),e.\\u0275inj=l.Tb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(y)],s.i]}),e})(),_=(()=>{class e{}return e.\\u0275mod=l.Ub({type:e}),e.\\u0275inj=l.Tb({factory:function(t){return new(t||e)},imports:[[i.c,f,m.b,n.j,n.t,h.c,b.b]]}),e})()}}]);","extractedComments":[]}